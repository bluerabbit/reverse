<html>
<head>
  <title>テキストエリアの行を逆順に出力</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      margin: 0;
      padding: 20px;
    }

    h2 {
      color: #333;
    }

    textarea {
      width: 100%;
      box-sizing: border-box;
      margin-top: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 16px;
      resize: vertical;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      background-color: #45a049;
    }

    .success-message {
      display: inline-block;
      margin-left: 10px;
      color: green;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>テキストエリアの行を逆順に出力</h2>

  <button onclick="reverseAndCopy()">逆順にしてクリップボードにコピー</button>
  <span id="successMessage" class="success-message"></span>
  <textarea id="inputText" rows="20" oninput="adjustHeight(this)"></textarea>

  <script>
    function adjustHeight(textarea) {
      textarea.style.height = "auto";
      textarea.style.height = textarea.scrollHeight + "px";
    }

    function reverseAndCopy() {
      let input = document.getElementById("inputText").value;
      let lines = input.split("\n");
      let reversedLines = lines.reverse();
      let output = reversedLines.join("\n");

      navigator.clipboard.writeText(output).then(function() {
        let successMessage = document.getElementById("successMessage");
        successMessage.textContent = "クリップボードにコピーしました";
        setTimeout(function () {
          successMessage.textContent = "";
        }, 3000);
      }, function() {
        alert("クリップボードへのコピーに失敗しました");
      });
    }
  </script>
</body>
</html>
